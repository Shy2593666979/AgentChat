# 服务配置
server:
  host: "127.0.0.1"
  port: 7860
  project_name: "AgentChat" # 项目名称
  version: "2.2.0" # 服务版本号

# 数据库配置：MySQL (请根据实际配置更改 endpoint)
# 格式：mysql+pymysql://<user>:<password>@<host>:<port>/<database>
mysql:
  endpoint: "mysql+pymysql://root:123456@localhost:3306/agentchat" # 同步连接配置
  async_endpoint: "mysql+aiomysql://root:123456@localhost:3306/agentchat" # 异步连接配置

# 缓存配置：Redis
redis:
  endpoint: "redis://localhost:6379" # Redis 连接地址

# 多模型服务配置 (LLM、Embedding、Rerank)
multi_models:
  # 对话模型配置
  conversation_model:
    api_key: "sk-6d47d94f4c734357******"
    base_url: "https://api.deepseek.com/v1"
    model_name: "deepseek-chat"
  # 工具调用/Function Call 模型配置
  tool_call_model:
    api_key: "sk-fc40dd0604f04142a******"
    base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
    model_name: "qwen-plus"
  # 复杂推理模型配置
  reasoning_model:
    api_key: "sk-6d47d94f4c734357******"
    base_url: "https://api.deepseek.com/v1"
    model_name: "deepseek-reasoner"
  # 文生图模型配置
  text2image:
    api_key: "sk-fc40dd0604f04142a******"
    base_url: "https://dashscope.aliyuncs.com/api/v1/services/aigc/text2image/image-synthesis"
    model_name: "wanx2.0-t2i-turbo"
  # 多模态 (视觉) 模型配置
  qwen_vl:
    api_key: "sk-fc40dd0604f04142a******"
    base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
    model_name: "qwen-vl-plus"

  # Embedding 模型配置 (用于向量化)
  embedding:
    api_key: "sk-fc40dd0604f04142a******"
    base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
    model_name: "text-embedding-v4"

  # Rerank 模型配置 (用于重排序召回结果)
  rerank:
    api_key: "sk-fc40dd0604f04142a******"
    base_url: "https://dashscope.aliyuncs.com/api/v1/services/rerank/text-rerank/text-rerank"
    model_name: "gte-rerank-v2"


# 外部工具 (Tool) 配置
tools:
  # 高德地图天气 API 配置
  weather:
    api_key: "fac0ad465078da96a3ec6******"
    endpoint: "https://restapi.amap.com/v3/weather/weatherInfo?parameters"
  # Tavily 联网搜索 API 配置 (注意配额限制)
  tavily:
    api_key: "tvly-dev-RMf7KBCQLyXhn3******"
  # SerpApi 上的 Google Search API 配置
  google:
    api_key: "cdc3b207606843b4c883849c3a0f833c1305781******"
  # BoCha 联网搜索 API 配置
  bocha:
    api_key: "sk-**********************"
    url: "https://api.bochaai.com/v1/web-search"
  # 阿里云快递查询 API 配置
  delivery:
    api_key: "df695c94fc644d******"
    endpoint: "https://qyexpress.market.alicloudapi.com/composite/queryexpress"

# RAG (检索增强生成) 配置
rag:
  enable_summary: False # 是否对知识库片段进行摘要
  enable_elasticsearch: False # 是否启用 Elasticsearch 进行关键词搜索

  retrival:
    top_k: 5  # 知识库召回的最大数量
    min_score: 0.2 # 知识库召回结果的最小相似度分数阈值

  split:
    chunk_size: 500 # 知识库文档分块的最大字符数
    overlap_size: 100 # 文档分块之间的重叠字符数

  # ES数据库配置，主要做关键词召回
  elasticsearch:
    hosts: "http://127.0.0.1:9200" # Elasticsearch 连接地址。如果 'enable_elasticsearch' 为 False，则不需要填写。

  # 向量数据库配置 (Vector DB)
  vector_db:
    host: "127.0.0.1"
    port: "19530"
    mode: "chroma" # 向量库模式: standalone (Milvus), lite (轻量Milvus), chroma (ChromaDB)

# 阿里云对象存储 OSS 配置
aliyun_oss:
  access_key_id: "LTAI5tL85xWWx******"
  access_key_secret: "MiKCkLCx9qZzxc6DwO7E******"
  endpoint: "oss-cn-beijing.aliyuncs.com"
  bucket_name: "agentchat" # OSS 存储桶名称
  base_url: "https://agentchat.oss-cn-beijing.aliyuncs.com" # 访问基础 URL

# 默认配置 (如图标 URL, 资源链接)
default_config:
  tool_logo_url: "https://agentchat.oss-cn-beijing.aliyuncs.com/icons/tool.png" # 工具默认图标 URL
  agent_logo_url: "https://agentchat.oss-cn-beijing.aliyuncs.com/icons/tools/bot.png" # Agent 默认图标 URL
  mars_daily_url: "https://news.aibase.com/zh/news" # 外部新闻链接
  memory_collection_name: "memory" # 记忆存储的集合名称

# 扩展功能：微信配置 (不添加也可正常运行)
wechat_config:
  token: "LiangTian"
  app_id: "wxf768871******"
  secret: "063c4df15544235abd9******"

# 追踪工具 Langfuse 配置 (目前版本可能未应用)
langfuse:
  trace_name: "agentchat"
  host: "https://cloud.langfuse.com"
  public_key: "pk-lf-q3e80e5f-da6d-40cb-8bc1-******" # Langfuse 公钥
  secret_key: "sk-lf-q3e80e5f-da6d-40cb-8bc1-******" # Langfuse 私钥
  user_id: "LiangTian" # 用户 ID

# 接口白名单路径
whitelist_paths: [ "/api/v1/login" ]